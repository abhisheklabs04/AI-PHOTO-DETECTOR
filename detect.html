<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AI Image Detector</title>
</head>

<body>

    <h2>AI Image Authenticity Checker</h2>

    <!-- Image input -->
    <input type="file" id="imageInput" accept="image/*" />

    <br><br>

    <!-- Button -->
    <button onclick="checkImage()">Check Authenticity</button>

    <br><br>

    <!-- Result -->
    <p id="result">Result will appear here</p>

    <script>
        async function checkImage() {
            const input = document.getElementById("imageInput");
            const result = document.getElementById("result");

            if (input.files.length === 0) {
                alert("Please select an image");
                return;
            }

            const formData = new FormData();
            formData.append("file", input.files[0]);

            result.innerText = "Checking... please wait";

            try {
                const response = await fetch(
                    "https://ai-detector-backend-l2dy.onrender.com/predict-image",
                    {
                        method: "POST",
                        body: formData
                    }
                );

                const data = await response.json();

                result.innerText =
                    "Result: " + data.result +
                    " | Confidence: " + data.confidence + "%";

            } catch (error) {
                result.innerText = "Error connecting to backend";
                console.error(error);
            }
        }
    </script>

</body>

</html>